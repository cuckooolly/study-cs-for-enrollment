# 응용 계층 - HTTP의 기초

## DNS와 URI/URL

### 도메인 네임과 DNS

- 도메인 네임: 호스트의 IP 주소와 대응되는 문자열 형태의 호스트 특징 정보
- 네임 서버: 도메인 네임과 IP 주소를 관리하는 서버
- DNS 서버: 도메인 네임을 관리하는 네임 서버
- DNS 캐시: 네임 서버들이 기존에 응답받은 결과를 임시로 저장했다가 추후 같은 질의에 이를 활용하는 기술
<br>

![](https://csnote.net/assets/img/net/dns_server.png)

### 자원과 URI/URL

- 자원: 네트워크 상의 메시지를 통해 주고 받는 대상
- URI(Uniform Resource Identifier): 자원을 식별하는 고유한 문자열
- URL(Uniform Resource Locator): 자원의 위치를 나타내는 문자열
<br>

- ![](https://csnote.net/assets/img/net/url.png)
  - scheme: 자원에 접근하는 방법을 나타냄
  - authority: 자원이 위치한 호스트 정보
  - path: 자원이 위치한 경로
  - query: 자원에 대한 추가 정보
  - fragment: 자원의 특정 부분을 지정

## HTTP의 특징과 메시지 구조

### HTTP의 특징

1. 요청 응답 기반 프로토콜
2. 미디어 독립적 프로토콜
3. Stateless 프로토콜
4. 지속 연결 프로토콜

### HTTP 메시지 구조

| 필드 이름   | 설명                           |
|---------|------------------------------|
| 메서드     | 클라이언트가 서버의 자원에 대해 수행할 작업의 종류 |
| 요청 대상   | 요청을 보낼 서버의 자원을 명시            |
| HTTP 버전 | 사용된 HTTP 버전                  |
| 상태 코드   | 요청에 대한 결과를 나타내는 3자리 정수를 나타냄  |
| 이유 구문   | 상태 코드에 대한 문자열 형태의 설명         |

## HTTP 메서드와 상태 코드

### HTTP 메서드

| HTTP 메서드 | 설명                         |
|----------|----------------------------|
| GET      | 서버의 자원을 요청할 때 사용           |
| HEAD     | GET과 동일하나, 헤더만을 응답받는 메서드   |
| POST     | 서버의 자원에 데이터를 제출할 때 사용      |
| PUT      | 서버의 자원을 생성하거나 수정할 때 사용     |
| PATCH    | 서버의 자원을 부분적으로 수정할 때 사용     |
| DELETE   | 서버의 자원을 삭제할 때 사용           |
| CONNECT  | 서버와의 터널링을 설정할 때 사용         |
| OPTIONS  | 서버가 지원하는 메서드나 기능을 확인할 때 사용 |
| TRACE    | 요청이 서버에 도달하는 경로를 추적할 때 사용  |

### HTTP 상태 코드

| 상태 코드 | 설명                                   |
|-------|--------------------------------------|
| 1xx   | 정보 응답: 요청이 수신되어 처리 중임을 나타냄           |
| 2xx   | 성공: 요청이 성공적으로 처리되었음을 나타냄             |
| 3xx   | 리다이렉션: 클라이언트가 추가 작업을 수행해야 함을 나타냄     |
| 4xx   | 클라이언트 오류: 클라이언트의 잘못된 요청을 나타냄         |
| 5xx   | 서버 오류: 서버가 요청을 처리하는 중에 오류가 발생했음을 나타냄 |

#### 300번대: 리다이렉션 상태 코드

| 상태 코드 | 이유 구문              | 설명                             |
|-------|--------------------|--------------------------------|
| 301   | Moved Permanently  | 영구적 리다이렉션 - 재요청 메서드가 변경될 수 있음  |
| 308   | Permanent Redirect | 영구적 리다이렉션 - 재요청 메서드가 변경되지 않음   |
| 302   | Found              | 일시적 리다이렉션 - 재요청 메서드가 변경될 수 있음  |
| 303   | See Other          | 일시적 리다이렉션 - 재요청 메서드가 GET으로 변경됨 |
| 307   | Temporary Redirect | 일시적 리다이렉션 - 재요청 메서드가 변경되지 않음   |
| 304   | Not Modified       | 캐시 - 자원이 변경되지 않음               |

#### 400번대: 클라이언트 에러 상태 코드

| 상태 코드 | 이유 구문              | 설명                         |
|-------|--------------------|----------------------------|
| 400   | Bad Request        | 요청 메시지의 내용이나 형식 자체에 문제가 있음 | 
| 401   | Unauthorized       | 인증 자격 증명이 없거나 유효하지 않음      |
| 403   | Forbidden          | 서버가 요청을 이해했으나 거부함          |
| 404   | Not Found          | 요청한 자원을 찾을 수 없음            |
| 405   | Method Not Allowed | 요청한 메서드를 지원하지 않음           |

#### 500번대: 서버 에러 상태 코드
| 상태 코드 | 이유 구문                 | 설명                          |
|-------|-----------------------|-----------------------------|
| 500   | Internal Server Error | 서버 내부에서 오류가 발생함             |
| 502   | Bad Gateway           | 게이트웨이 또는 프록시 서버가 잘못된 응답을 받음 |

## HTTP 주요 헤더
### 요청 메시지에서 주로 활용되는 HTTP 헤더
- Host: 요청을 보낼 서버의 도메인 네임이나 IP 주소를 명시
- User-Agent: 클라이언트의 소프트웨어 정보(브라우저 종류, 버전 등)를 명시
- Referer: 현재 요청이 발생한 이전 페이지의 URL을 명시

### 응답 메시지에서 주로 활용되는 HTTP 헤더
- Server: 서버의 소프트웨어 정보(서버 종류, 버전 등)를 명시
- Allow: 서버가 지원하는 HTTP 메서드를 명시
- Location: 리다이렉션 시 클라이언트가 이동해야 할 URL을 명시

### 요청과 응답 메시지 모두에서 활용되는 HTTP 헤더
- Date: 메시지가 생성된 날짜와 시간을 명시
- Content-Length: 메시지 본문의 길이를 바이트 단위로 명시
- Content-Type, Content-Language, Content-Encoding: 메시지 본문의 미디어 타입을 명시